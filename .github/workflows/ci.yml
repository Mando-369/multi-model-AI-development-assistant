name: CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  check:
    name: Check Structure
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - name: Check required files exist
      run: |
        echo "Checking project structure..."
        test -f main.py || exit 1
        test -f requirements.txt || exit 1
        test -d src/core || exit 1
        test -d src/ui || exit 1
        test -f src/core/prompts.py || exit 1
        test -f src/ui/editor_ui.py || exit 1
        echo "All required files present!"

    - name: Check Python syntax
      run: |
        python3 -m py_compile main.py
        python3 -m py_compile src/core/prompts.py
        echo "Python syntax OK!"
